# 功能对应关系说明

## 📋 控制台菜单 vs 图形化界面

### 完美对应！所有功能一一对应

| 控制台菜单 | 图形化界面 | 说明 |
|-----------|-----------|------|
| 1. 📸 远程截屏 | 快捷操作：📸 Screenshot | 点击底部快捷按钮即可 |
| 2. 📷 摄像头功能 | 快捷操作：📷 Camera | 点击底部快捷按钮即可 |
| 3. 📂 文件管理 | 标签页：📂 FILES | 下载、上传、执行文件 |
| 4. 🐚 交互式Shell | 标签页：💻 SHELL | 远程命令执行终端 |
| 5. 🔐 注册表管理 | 标签页：🔐 REGISTRY | 查询、设置、删除注册表 |
| 6. 🎤 麦克风录音 | 快捷操作：🎤 Mic Record | 点击底部快捷按钮即可 |
| 7. 🖥️ 屏幕实时查看+鼠标控制 | 标签页：🖥️ SCREEN | 实时屏幕流+鼠标点击控制 |
| 8. 🕵️ 键盘监控 | 标签页：🕵️ KEYBOARD | 记录按键事件 |
| 9. 💻 查看系统信息 | 标签页：💻 SYSTEM INFO | 静态系统信息（非实时监控） |
| 10. 🚪 断开连接 | 顶部：✖ DISCONNECT | 断开连接按钮 |

---

## 🎯 界面布局

```
┌──────────────────────────────────────────────────────────┐
│ ● CONNECTED | Target: 127.0.0.1 | Time | ✖ DISCONNECT   │
├──────────────────────────────────────────────────────────┤
│ 💻SYSTEM | 📂FILES | 🖥️SCREEN | 🔐REGISTRY | ...         │
├──────────────────────────────────────────────────────────┤
│                                                          │
│                    [标签页内容区域]                        │
│                                                          │
├──────────────────────────────────────────────────────────┤
│ QUICK ACTIONS: 📸Screenshot | 📷Camera | 🎤Mic Record     │
└──────────────────────────────────────────────────────────┘
```

---

## 📊 标签页详细说明

### 1. 💻 SYSTEM INFO（系统信息）

**对应菜单**：第9项 - 查看系统信息

**功能**：
- 显示**静态**系统信息（非实时监控）
- 点击"🔄 REFRESH INFO"刷新信息

**显示内容**：
- Operating System（操作系统）
- System Version（系统版本）
- System Release（系统发布版本）
- Architecture（架构）
- Processor（处理器）
- Hostname（主机名）
- IP Address（IP地址）
- Python Version（Python版本）
- Online Status（在线状态）

**注意**：
- ⚠️ **不是实时CPU/内存监控**
- ✅ 与服务端 `get_system_info()` 函数返回的数据完全对应
- ✅ 不会显示0%的假数据

---

### 2. 📂 FILES（文件管理）

**对应菜单**：第3项 - 文件管理

**功能**：
- ⬇️ **DOWNLOAD**：下载远程文件
  - 在输入框输入文件路径
  - 点击DOWNLOAD
  - 选择保存位置

- ⬆️ **UPLOAD**：上传本地文件
  - 点击UPLOAD
  - 选择本地文件
  - 自动上传到远程安全目录

- ▶️ **EXECUTE**：执行远程Python文件
  - 在输入框输入.py文件路径
  - 点击EXECUTE
  - 可选输入参数
  - 显示执行结果

**限制**：
- 所有操作限制在服务端的安全目录（`safe_files/`）内

---

### 3. 🖥️ SCREEN（屏幕监控+鼠标控制）

**对应菜单**：第7项 - 屏幕实时查看与鼠标控制

**功能**：
- ▶ **START STREAM**：开始实时屏幕流
- ⏹ **STOP STREAM**：停止屏幕流
- 📸 **SCREENSHOT**：单帧截图
- **Quality滑块**：调整传输质量（10-100）
- **鼠标控制**：
  - 左键点击屏幕 → 发送鼠标左键点击事件
  - 右键点击屏幕 → 发送鼠标右键点击事件

**使用方法**：
1. 调整质量（推荐50）
2. 点击"START STREAM"
3. 等待屏幕画面显示
4. 直接点击画面上的位置即可远程控制鼠标

---

### 4. 🔐 REGISTRY（注册表管理）

**对应菜单**：第5项 - 注册表管理（Windows）

**功能**：
- 🔍 **QUERY**：查询注册表值
  - 选择Hive（HKLM/HKCU/HKCR/HKU/HKCC）
  - 输入键路径（如：`SOFTWARE\MyApp`）
  - 输入值名称（可选）
  - 点击QUERY查看结果

- ✏️ **SET**：设置注册表值
  - 输入Hive、路径、值名称
  - 点击SET
  - 输入值和类型（REG_SZ/REG_DWORD）

- 🗑️ **DELETE**：删除注册表值
  - 输入Hive、路径、值名称
  - 点击DELETE确认删除

**注意**：
- ⚠️ 仅在Windows系统上可用
- 显示详细的JSON格式结果

---

### 5. 🕵️ KEYBOARD（键盘监控）

**对应菜单**：第8项 - 键盘监控（记录按键）

**功能**：
- ▶ **START MONITORING**：开始监控
- ⏹ **STOP MONITORING**：停止监控
- 🗑️ **CLEAR**：清空日志

**显示内容**：
```
[2024-12-07 22:45:12] PRESS: a
[2024-12-07 22:45:12] RELEASE: a
[2024-12-07 22:45:13] PRESS: shift
[2024-12-07 22:45:13] PRESS: h
[2024-12-07 22:45:13] RELEASE: h
[2024-12-07 22:45:13] RELEASE: shift
```

**特点**：
- 实时显示按键事件
- 自动滚动到最新
- 黑底绿字极客风格

---

### 6. 💻 SHELL（Shell终端）

**对应菜单**：第4项 - 交互式Shell

**功能**：
- 远程命令执行
- 实时输出显示
- 命令历史

**使用方法**：
1. 在输入框输入命令（如：`ls -la`）
2. 按回车或点击"SEND"
3. 等待输出显示
4. 继续输入下一个命令

**特点**：
- 黑底绿字终端风格
- 支持所有白名单命令
- 输出即时显示

---

### 7. 📜 HISTORY（操作历史）

**额外功能**：记录所有操作

**功能**：
- 自动记录所有操作
- 显示时间、操作类型、详情、状态
- 🗑️ **CLEAR**：清空历史
- 💾 **EXPORT**：导出为TXT/CSV文件

**记录内容示例**：
```
Time                 Action      Details                    Status
─────────────────────────────────────────────────────────────────
2024-12-07 22:45:30  Connection  Connected to 127.0.0.1    Success
2024-12-07 22:45:35  Screenshot  Captured screenshot        Success
2024-12-07 22:45:40  Shell       Executed: ls -la           Success
2024-12-07 22:45:45  File        Downloaded: test.txt       Success
```

---

## ⚡ 快捷操作栏（底部）

### 📸 Screenshot
- 对应菜单第1项
- 点击即可截图
- 图片在新窗口显示

### 📷 Camera
- 对应菜单第2项
- 点击即可拍照
- 照片在新窗口显示

### 🎤 Mic Record
- 对应菜单第6项
- 点击后选择录音时长
- 保存为WAV文件

---

## ✅ 验证清单

### 已移除的不存在功能
- ❌ ~~实时CPU占用率监控~~（原系统没有）
- ❌ ~~实时内存占用率监控~~（原系统没有）
- ❌ ~~实时磁盘占用率监控~~（原系统没有）
- ❌ ~~假的进程列表~~（需要服务端扩展）
- ❌ ~~假的文件浏览器~~（已改为真实的文件管理）

### 已添加的对应功能
- ✅ 静态系统信息显示（菜单第9项）
- ✅ 文件下载/上传/执行（菜单第3项）
- ✅ 屏幕监控+鼠标控制（菜单第7项）
- ✅ 注册表管理（菜单第5项）
- ✅ 键盘监控（菜单第8项）
- ✅ Shell终端（菜单第4项）
- ✅ 截图快捷操作（菜单第1项）
- ✅ 摄像头快捷操作（菜单第2项）
- ✅ 录音快捷操作（菜单第6项）

---

## 🎯 使用流程

### 1. 启动
```bash
# 服务端
python server_gui.py

# 客户端
python client_visual.py
```

### 2. 连接
- 输入IP和密码
- 点击"ESTABLISH CONNECTION"
- 服务端授权

### 3. 使用功能

**查看系统信息**：
→ 切换到"💻 SYSTEM INFO"标签页
→ 点击"🔄 REFRESH INFO"

**下载文件**：
→ 切换到"📂 FILES"标签页
→ 输入文件路径（如：`test.txt`）
→ 点击"⬇️ DOWNLOAD"

**屏幕监控**：
→ 切换到"🖥️ SCREEN"标签页
→ 点击"▶ START STREAM"
→ 点击画面进行鼠标控制

**键盘监控**：
→ 切换到"🕵️ KEYBOARD"标签页
→ 点击"▶ START MONITORING"
→ 查看按键记录

**执行Shell命令**：
→ 切换到"💻 SHELL"标签页
→ 输入命令，按回车

**查看操作历史**：
→ 切换到"📜 HISTORY"标签页
→ 点击"💾 EXPORT"导出日志

---

## 📝 总结

✅ **所有功能与控制台菜单完全对应**
✅ **不再显示不存在的功能（如实时CPU监控）**
✅ **所有数据都是从服务端真实获取**
✅ **界面美观，操作简单，点击即用**

**控制台菜单有什么，图形界面就有什么！** 🎉
